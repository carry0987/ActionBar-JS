!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ActionBar=t()}(this,(function(){"use strict";const e={getElem:(e,t,n)=>"object"==typeof e?e:void 0===t&&void 0===n?isNaN(1*e)?document.querySelector(e):document.getElementById(e):"all"===t||null===t?void 0===n?document.querySelectorAll(e):n.querySelectorAll(e):"object"==typeof t&&void 0===n?t.querySelector(e):void 0,isObject:e=>e&&"object"==typeof e&&!Array.isArray(e),deepMerge(t,...n){const o=n.shift();if(!o)return t;if(e.isObject(t)&&e.isObject(o))for(const n in o)e.isObject(o[n])?(t[n]||Object.assign(t,{[n]:{}}),e.deepMerge(t[n],o[n])):Object.assign(t,{[n]:o[n]});return e.deepMerge(t,...n)},injectStylesheet(t,n){let o=document.createElement("style");o.id="actionbar-style"+n,o.appendChild(document.createTextNode("")),document.head.appendChild(o);let i=document.styleSheets[document.styleSheets.length-1];for(let o in t)t.hasOwnProperty(o)&&e.compatInsertRule(i,o,e.buildRules(t[o]),n)},buildRules(e){let t="";for(let[n,o]of Object.entries(e))t+=`${n}:${o};`;return t},compatInsertRule(e,t,n,o){let i=t.replace(".action-bar",".action-bar-"+o);e.insertRule(i+"{"+n+"}",0)},removeStylesheet(t){let n=e.getElem("#actionbar-style"+t);n&&n.parentNode.removeChild(n)},isEmpty:e=>!e?.length,getTemplate(t,n){let o=`\n        <div style="display:none">\n            <div class="action-bar action-bar-${n}">\n                <div class="selected-count"></div>\n                <div class="action-buttons">\n                    <button class="action-button clear" aria-label="Clear Selection">\n                        <svg width="24px" height="24px" viewBox="0 0 24 24">\n                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path>\n                        </svg>\n                    </button>\n                    <button class="action-button selectAll" aria-label="Select All">\n                        <svg width="22px" height="22px" viewBox="0 0 448 512">\n                            <path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm0 400H48V80h352v352zm-35.864-241.724L191.547 361.48c-4.705 4.667-12.303 4.637-16.97-.068l-90.781-91.516c-4.667-4.705-4.637-12.303.069-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l59.792 60.277 141.352-140.216c4.705-4.667 12.303-4.637 16.97.068l22.536 22.718c4.667 4.706 4.637 12.304-.068 16.971z"></path>\n                        </svg>\n                    </button>\n                    <button class="action-button restore" aria-label="Restore">\n                        <svg width="24px" height="24px" viewBox="0 0 1024 1024">\n                            <path d="M512 768q88 0 151-63t63-151-63-150-151-62q-116 0-180 98l-54-56v170h170l-68-68q16-32 55-56t77-24q62 0 106 43t44 105-44 106-106 44q-78 0-122-64h-74q24 58 77 93t119 35zM598 86l256 256v512q0 34-26 59t-60 25h-512q-34 0-60-25t-26-59l2-684q0-34 25-59t59-25h342z"></path>\n                        </svg>\n                    </button>\n                    <button class="action-button move" aria-label="Move">\n                        <svg width="24px" height="24px" viewBox="0 0 24 24">\n                            <path fill="none" d="M0 0h24v24H0V0z"></path>\n                            <path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10zm-8.01-9l-1.41 1.41L12.16 12H8v2h4.16l-1.59 1.59L11.99 17 16 13.01 11.99 9z"></path>\n                        </svg>\n                    </button>\n                    <button class="action-button delete" aria-label="Delete">\n                        <svg width="24px" height="24px" viewBox="0 0 24 24">\n                            <path d="M15 4V3H9v1H4v2h1v13c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6h1V4h-5zm2 15H7V6h10v13zM9 8h2v9H9zm4 0h2v9h-2z"></path>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n        </div>\n        `;if(t){let i=e.getElem(t);i&&0!==i.length||function(e){throw new Error(e)}("Template not found"),o=`<div style="display:none"><div class="action-bar action-bar-${n}">`,o+=i.innerHTML,o+="</div></div>"}return o},modifyButtonState(t,n,o){(t=Array.isArray(t)?t:[t]).forEach((t=>{let i=e.getElem(".action-button."+t,o)||null;i&&(i.disabled=n)}))}};class t{constructor(e={}){this.init(e,t.instance.length),t.instance.push(this),1===t.instance.length&&function(e,t=!1){!0===t?console.log("Data Type : "+typeof e,"\nValue : "+e):"boolean"!=typeof t?console.log(t):console.log(e)}(`ActionBar is loaded, version: ${t.version}`)}static defaultOption={countMsg:"Selected (:num) items",countPlaceholder:"(:num)",hideButton:[],template:null,styles:{},onLoad:null,onClear:null,onSelectAll:null,onRestore:null,onMove:null,onDelete:null};static instance=[];static version="1.0.0";static get CLEAR(){return"clear"}static get SELECT_ALL(){return"selectAll"}static get RESTORE(){return"restore"}static get MOVE(){return"move"}static get DELETE(){return"delete"}init(n,o){let i,l,s={};if(this.id=o,this.option=e.deepMerge({},t.defaultOption,n),i=e.getTemplate(this.option?.template,o),this.option?.styles&&Object.keys(this.option.styles).length>0){let t=e.deepMerge({},this.option.styles);e.injectStylesheet(t,o)}if(e.getElem(".action-bar-container")||document.body.insertAdjacentHTML("beforeend",'<div class="action-bar-container"></div>'),l=e.getElem(".action-bar-container"),l.insertAdjacentHTML("beforeend",i),this.element=e.getElem(".action-bar-"+o),this.option?.onLoad&&this.option.onLoad(),s.clear=e.getElem(".action-button.clear",this.element),s.selectAll=e.getElem(".action-button.selectAll",this.element),s.restore=e.getElem(".action-button.restore",this.element),s.move=e.getElem(".action-button.move",this.element),s.delete=e.getElem(".action-button.delete",this.element),this.option?.hideButton&&this.option.hideButton.length>0){(Array.isArray(this.option.hideButton)?this.option.hideButton:[this.option.hideButton]).forEach((e=>{s[e]&&(s[e].style.display="none")}))}return s.clear.addEventListener("click",(()=>{"none"!==s.clear.style.display&&this.option?.onClear&&this.option.onClear(s.clear)})),s.selectAll.addEventListener("click",(()=>{"none"!==s.selectAll.style.display&&this.option?.onSelectAll&&this.option.onSelectAll(s.selectAll)})),s.restore.addEventListener("click",(()=>{"none"!==s.restore.style.display&&this.option?.onRestore&&this.option.onRestore(s.restore)})),s.move.addEventListener("click",(()=>{"none"!==s.move.style.display&&this.option?.onMove&&this.option.onMove(s.move)})),s.delete.addEventListener("click",(()=>{"none"!==s.delete.style.display&&this.option?.onDelete&&this.option.onDelete(s.delete)})),this}target(){return this.element}show(){const e=this.element;return e&&(e.parentNode.style.display="block"),this}hide(){const e=this.element;return e&&(e.parentNode.style.display="none"),this}updateCountNumber(t){let n=e.getElem(".selected-count",this.element),o=this.option.countMsg,i=this.option.countPlaceholder;return n&&(n.innerHTML=o.replace(i,t)),this}enableButton(t){return e.modifyButtonState(t,!1,this.element),this}disableButton(t){return e.modifyButtonState(t,!0,this.element),this}doAction(e){switch(e){case t.CLEAR:this.option?.onClear&&this.option.onClear();break;case t.SELECT_ALL:this.option?.onSelectAll&&this.option.onSelectAll();break;case t.RESTORE:this.option?.onRestore&&this.option.onRestore();break;case t.MOVE:this.option?.onMove&&this.option.onMove();break;case t.DELETE:this.option?.onDelete&&this.option.onDelete()}return this}onClear(e){return this.option.onClear=e,this}onSelectAll(e){return this.option.onSelectAll=e,this}onRestore(e){return this.option.onRestore=e,this}onMove(e){return this.option.onMove=e,this}onDelete(e){return this.option.onDelete=e,this}getButtonList(){return[t.CLEAR,t.SELECT_ALL,t.RESTORE,t.MOVE,t.DELETE]}destroy(){e.removeStylesheet(this.id);let n=e.getElem(".action-bar-container");return n&&n.removeChild(this.element.parentNode),t.instance.splice(this.id,1),this}}return t}));
