!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).actionBarjs={})}(this,(function(t){"use strict";const e={countMsg:"Selected (:num) items",countPlaceholder:"(:num)",hideButton:[],template:void 0,styles:{},customButton:[],onLoad:void 0,onClear:void 0,onSelectAll:void 0,onRestore:void 0,onMove:void 0,onDelete:void 0},n={CLEAR:"clear",SELECT_ALL:"selectAll",RESTORE:"restore",MOVE:"move",DELETE:"delete"};function o(t){throw new Error(t)}function i(t,e,n){if("string"!=typeof t)return t;let o=document;return null===e&&n?o=n:e&&e instanceof Node&&"querySelector"in e?o=e:n&&n instanceof Node&&"querySelector"in n&&(o=n),"all"===e?o.querySelectorAll(t):o.querySelector(t)}function s(t,e={},n=""){let o=document.createElement(t);for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&("textContent"===t||"innerText"===t?o.textContent=e[t]:o.setAttribute(t,e[t]));return n&&(o.textContent=n),o}let l="utils-style";const a={from:".utils",to:".utils-"};function r(t){return"object"==typeof t&&null!==t&&!c(t)}function c(t){return Array.isArray(t)}function h(t){return"number"!=typeof t&&("string"==typeof t&&0===t.length||(!(!c(t)||0!==t.length)||(!(!r(t)||0!==Object.keys(t).length)||!t)))}function u(t,...e){if(!e.length)return t;const n=e.shift();if(n)for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const o=n[e],i=e;r(o)||c(o)?(t[i]&&"object"==typeof t[i]||(t[i]=c(o)?[]:{}),u(t[i],o)):t[i]=o}return u(t,...e)}function d(t){l=t}function p(t,e){a.from=t,a.to=e}function m(t,e=null){e=h(e)?"":e;let n=s("style");n.id=l+e,n.textContent="",document.head.append(n);let o=n.sheet;for(let n in t)t.hasOwnProperty(n)&&f(o,n,b(t[n]),e)}function b(t){let e="";for(let[n,o]of Object.entries(t))n=n.replace(/([A-Z])/g,(t=>`-${t[0].toLowerCase()}`)),e+=`${n}:${o};`;return e}function f(t,e,n,o=null){o=h(o)?"":o;let i=e.replace(a.from,a.to+o);t.insertRule(i+"{"+n+"}",0)}function E(t=null){const e=h(t)?"":t;let n=i("#"+l+e);n&&n.parentNode&&n.parentNode.removeChild(n)}function v(t=8){let e="";const n="abcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<t;o++){e+=n[Math.floor(36*Math.random())]}return e}class g{static setStylesheetId=d;static setReplaceRule=p;static isEmpty=h;static deepMerge=u;static generateRandom=v;static injectStylesheet=m;static removeStylesheet=E;static getElem=i;static createElem=s;static throwError=o;static getTemplate=function(t,e){let n=`\n        <div style="display:none">\n            <div class="action-bar action-bar-${t=t.toString()}">\n                <div class="selected-count"></div>\n                <div class="action-buttons">\n                    <button class="action-button clear" title="Clear" aria-label="Clear Selection">\n                        <svg width="24px" height="24px" viewBox="0 0 24 24">\n                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path>\n                        </svg>\n                    </button>\n                    <button class="action-button selectAll" title="SelectAll" aria-label="Select All">\n                        <svg width="22px" height="22px" viewBox="0 0 448 512">\n                            <path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm0 400H48V80h352v352zm-35.864-241.724L191.547 361.48c-4.705 4.667-12.303 4.637-16.97-.068l-90.781-91.516c-4.667-4.705-4.637-12.303.069-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l59.792 60.277 141.352-140.216c4.705-4.667 12.303-4.637 16.97.068l22.536 22.718c4.667 4.706 4.637 12.304-.068 16.971z"></path>\n                        </svg>\n                    </button>\n                    <button class="action-button restore" title="Restore" aria-label="Restore">\n                        <svg width="24px" height="24px" viewBox="0 0 1024 1024">\n                            <path d="M512 768q88 0 151-63t63-151-63-150-151-62q-116 0-180 98l-54-56v170h170l-68-68q16-32 55-56t77-24q62 0 106 43t44 105-44 106-106 44q-78 0-122-64h-74q24 58 77 93t119 35zM598 86l256 256v512q0 34-26 59t-60 25h-512q-34 0-60-25t-26-59l2-684q0-34 25-59t59-25h342z"></path>\n                        </svg>\n                    </button>\n                    <button class="action-button move" title="Move" aria-label="Move">\n                        <svg width="24px" height="24px" viewBox="0 0 24 24">\n                            <path fill="none" d="M0 0h24v24H0V0z"></path>\n                            <path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10zm-8.01-9l-1.41 1.41L12.16 12H8v2h4.16l-1.59 1.59L11.99 17 16 13.01 11.99 9z"></path>\n                        </svg>\n                    </button>\n                    <button class="action-button delete" title="Delete" aria-label="Delete">\n                        <svg width="24px" height="24px" viewBox="0 0 24 24">\n                            <path d="M15 4V3H9v1H4v2h1v13c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6h1V4h-5zm2 15H7V6h10v13zM9 8h2v9H9zm4 0h2v9h-2z"></path>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n        </div>\n        `;if(e){let s="string"==typeof e?i(e):e;s||o("Template not found"),n=`<div style="display:none"><div class="action-bar action-bar-${t}">`,n+=s.innerHTML,n+="</div></div>"}return n};static modifyButtonState(t,e,n){n&&(t=Array.isArray(t)?t:[t]).forEach((t=>{let o=i(".action-button."+t,n);o&&this.toggleDisableStatus(o,e)}))}static toggleDisableStatus(t,e){e?(t.disabled=!0,t.setAttribute("disabled","disabled")):(t.disabled=!1,t.removeAttribute("disabled"))}static addCustomButton(t,e,n,i){"function"!=typeof n&&o("callback should be a function");const l=s("button");return l.className=`action-button custom ${t}`,l.title=t,l.innerHTML=e,i.appendChild(l),l.addEventListener("click",(()=>{"none"!==l.style.display&&n(l)})),l}}g.setStylesheetId("actionbar-style"),g.setReplaceRule(".action-bar",".action-bar-");class y{static instances=[];static version="2.1.1";static firstLoad=!0;options=e;id=0;element=null;constructor(t){this.init(t,y.instances.length),y.instances.push(this),1===y.instances.length&&!0===y.firstLoad&&((t,e=!1)=>{!0===e?console.log("Data Type : "+typeof t,"\nValue : "+t):"boolean"!=typeof e?console.log(e):console.log(t)})(`ActionBar is loaded, version: ${y.version}`),y.firstLoad=!1}init(t,n){let o,i,s={};this.id=n,this.options=g.deepMerge({},e,t),o=g.getTemplate(n,this.options.template),this.injectStyles();return g.getElem(".action-bar-container")||document.body.insertAdjacentHTML("beforeend",'<div class="action-bar-container"></div>'),i=g.getElem(".action-bar-container"),i.insertAdjacentHTML("beforeend",o),this.element=g.getElem(`.action-bar-${n}`),this.options.onLoad?.(this),s.clear=g.getElem(".action-button.clear",this.element),s.selectAll=g.getElem(".action-button.selectAll",this.element),s.restore=g.getElem(".action-button.restore",this.element),s.move=g.getElem(".action-button.move",this.element),s.delete=g.getElem(".action-button.delete",this.element),this.options.hideButton?.forEach((t=>{const e=s[t];e&&(e.style.display="none")})),this.initializeButtonEventListeners(s),this.addCustomButtonsIfExists(),this}injectStyles(){let t={};this.options?.styles&&Object.keys(this.options.styles).length>0&&(t=g.deepMerge({},this.options.styles,t)),t&&g.injectStylesheet(t,this.id.toString())}initializeButtonEventListeners(t){Object.entries(t).forEach((([t,e])=>{e&&e.addEventListener("click",(()=>{if("none"===e.style.display)return;const n=`on${t.charAt(0).toUpperCase()+t.slice(1)}`;this.options[n]?.(e)}))}))}addCustomButtonsIfExists(){if(!this.options.customButton||0===this.options.customButton.length)return;const t=g.getElem(".action-buttons",this.element);this.options.customButton.forEach((({name:e,icon:n,callback:o})=>{const i=g.addCustomButton(e,n,o,t);this.options.hideButton?.includes(e)&&(i.style.display="none")}))}target(){return this.element}show(){return this.element&&this.element.parentNode&&(this.element.parentNode.style.display="block"),this}hide(){return this.element&&this.element.parentNode&&(this.element.parentNode.style.display="none"),this}updateCountNumber(t){const e=g.getElem(".selected-count",this.element),n=this.options.countMsg,o=this.options.countPlaceholder;return e&&n&&o&&(e.innerHTML=n.replace(o,t.toString())),this}enableButton(t){return g.modifyButtonState(t,!1,this.element),this}disableButton(t){return g.modifyButtonState(t,!0,this.element),this}doAction(t){switch(t){case n.CLEAR:this.options?.onClear?.();break;case n.SELECT_ALL:this.options?.onSelectAll?.();break;case n.RESTORE:this.options?.onRestore?.();break;case n.MOVE:this.options?.onMove?.();break;case n.DELETE:this.options?.onDelete?.()}return this}onClear(t){return this.options.onClear=t,this}onSelectAll(t){return this.options.onSelectAll=t,this}onRestore(t){return this.options.onRestore=t,this}onMove(t){return this.options.onMove=t,this}onDelete(t){return this.options.onDelete=t,this}static getButtonList(){return[n.CLEAR,n.SELECT_ALL,n.RESTORE,n.MOVE,n.DELETE]}destroy(){if(g.removeStylesheet(this.id.toString()),this.element&&this.element.parentElement){const t=g.getElem(".action-bar-container");t&&t.removeChild(this.element.parentElement)}const t=y.instances.findIndex((t=>t.id===this.id));return t>-1&&y.instances.splice(t,1),this}static get CLEAR(){return n.CLEAR}static get SELECT_ALL(){return n.SELECT_ALL}static get RESTORE(){return n.RESTORE}static get MOVE(){return n.MOVE}static get DELETE(){return n.DELETE}}var L=Object.freeze({__proto__:null});t.Action=n,t.ActionBar=y,t.ActionBarInterface=L}));
