!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).ActionBar=e()}(this,(function(){"use strict";function t(t){throw new Error(t)}function e(t,e,n){if("string"!=typeof t)return t;let o=document;return null===e&&n?o=n:e&&e instanceof Node&&"querySelector"in e?o=e:n&&n instanceof Node&&"querySelector"in n&&(o=n),"all"===e?o.querySelectorAll(t):o.querySelector(t)}function n(t,e={},n=""){let o=document.createElement(t);for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&("textContent"===t||"innerText"===t?o.textContent=e[t]:o.setAttribute(t,e[t]));return n&&(o.textContent=n),o}let o="utils-style";const i={from:".utils",to:".utils-"};function s(t,...e){if(!e.length)return t;const n=e.shift();if(n)for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e],l=e;"object"!=typeof(o=i)||null===o||Array.isArray(o)?t[l]=i:(t[l]&&"object"==typeof t[l]||(t[l]={}),s(t[l],i))}var o;return s(t,...e)}function l(t){o=t}function a(t,e){i.from=t,i.to=e}function r(t,e=null){e=d(e)?"":e;let i=n("style");i.id=o+e,i.textContent="",document.head.append(i);let s=i.sheet;for(let n in t)t.hasOwnProperty(n)&&h(s,n,c(t[n]),e)}function c(t){let e="";for(let[n,o]of Object.entries(t))n=n.replace(/([A-Z])/g,(t=>`-${t[0].toLowerCase()}`)),e+=`${n}:${o};`;return e}function h(t,e,n,o=null){o=d(o)?"":o;let s=e.replace(i.from,i.to+o);t.insertRule(s+"{"+n+"}",0)}function u(t=null){const n=d(t)?"":t;let i=e("#"+o+n);i&&i.parentNode&&i.parentNode.removeChild(i)}function d(t){return"number"!=typeof t&&(!t||"string"==typeof t&&0===t.length)}function p(t=8){return Math.random().toString(36).substring(2,2+t)}class m{static setStylesheetId=l;static setReplaceRule=a;static isEmpty=d;static deepMerge=s;static generateRandom=p;static injectStylesheet=r;static removeStylesheet=u;static getElem=e;static createElem=n;static throwError=t;static getTemplate=function(n,o){let i=`\n        <div style="display:none">\n            <div class="action-bar action-bar-${n=n.toString()}">\n                <div class="selected-count"></div>\n                <div class="action-buttons">\n                    <button class="action-button clear" title="Clear" aria-label="Clear Selection">\n                        <svg width="24px" height="24px" viewBox="0 0 24 24">\n                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path>\n                        </svg>\n                    </button>\n                    <button class="action-button selectAll" title="SelectAll" aria-label="Select All">\n                        <svg width="22px" height="22px" viewBox="0 0 448 512">\n                            <path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm0 400H48V80h352v352zm-35.864-241.724L191.547 361.48c-4.705 4.667-12.303 4.637-16.97-.068l-90.781-91.516c-4.667-4.705-4.637-12.303.069-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l59.792 60.277 141.352-140.216c4.705-4.667 12.303-4.637 16.97.068l22.536 22.718c4.667 4.706 4.637 12.304-.068 16.971z"></path>\n                        </svg>\n                    </button>\n                    <button class="action-button restore" title="Restore" aria-label="Restore">\n                        <svg width="24px" height="24px" viewBox="0 0 1024 1024">\n                            <path d="M512 768q88 0 151-63t63-151-63-150-151-62q-116 0-180 98l-54-56v170h170l-68-68q16-32 55-56t77-24q62 0 106 43t44 105-44 106-106 44q-78 0-122-64h-74q24 58 77 93t119 35zM598 86l256 256v512q0 34-26 59t-60 25h-512q-34 0-60-25t-26-59l2-684q0-34 25-59t59-25h342z"></path>\n                        </svg>\n                    </button>\n                    <button class="action-button move" title="Move" aria-label="Move">\n                        <svg width="24px" height="24px" viewBox="0 0 24 24">\n                            <path fill="none" d="M0 0h24v24H0V0z"></path>\n                            <path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10zm-8.01-9l-1.41 1.41L12.16 12H8v2h4.16l-1.59 1.59L11.99 17 16 13.01 11.99 9z"></path>\n                        </svg>\n                    </button>\n                    <button class="action-button delete" title="Delete" aria-label="Delete">\n                        <svg width="24px" height="24px" viewBox="0 0 24 24">\n                            <path d="M15 4V3H9v1H4v2h1v13c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6h1V4h-5zm2 15H7V6h10v13zM9 8h2v9H9zm4 0h2v9h-2z"></path>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n        </div>\n        `;if(o){let s=e(o);s||t("Template not found"),i=`<div style="display:none"><div class="action-bar action-bar-${n}">`,i+=s.innerHTML,i+="</div></div>"}return i};static modifyButtonState(t,n,o){o&&(t=Array.isArray(t)?t:[t]).forEach((t=>{let i=e(".action-button."+t,o);i&&this.toggleDisableStatus(i,n)}))}static toggleDisableStatus(t,e){e?(t.disabled=!0,t.setAttribute("disabled","disabled")):(t.disabled=!1,t.removeAttribute("disabled"))}static addCustomButton(e,o,i,s){"function"!=typeof i&&t("callback should be a function");const l=n("button");return l.className=`action-button custom ${e}`,l.title=e,l.innerHTML=o,s.appendChild(l),l.addEventListener("click",(()=>{"none"!==l.style.display&&i(l)})),l}}var b;m.setStylesheetId("actionbar-style"),m.setReplaceRule(".action-bar",".action-bar-"),function(t){t.CLEAR="clear",t.SELECT_ALL="selectAll",t.RESTORE="restore",t.MOVE="move",t.DELETE="delete"}(b||(b={}));const E={countMsg:"Selected (:num) items",countPlaceholder:"(:num)",hideButton:[],template:void 0,styles:{},customButton:[],onLoad:void 0,onClear:void 0,onSelectAll:void 0,onRestore:void 0,onMove:void 0,onDelete:void 0};class f{static instances=[];static version="2.0.1";static firstLoad=!0;options=E;id=0;element=null;constructor(t){this.init(t,f.instances.length),f.instances.push(this),1===f.instances.length&&!0===f.firstLoad&&((t,e=!1)=>{!0===e?console.log("Data Type : "+typeof t,"\nValue : "+t):"boolean"!=typeof e?console.log(e):console.log(t)})(`ActionBar is loaded, version: ${f.version}`),f.firstLoad=!1}init(t,e){let n,o,i={};this.id=e,this.options=m.deepMerge({},E,t),n=m.getTemplate(e,this.options.template),this.injectStyles();return m.getElem(".action-bar-container")||document.body.insertAdjacentHTML("beforeend",'<div class="action-bar-container"></div>'),o=m.getElem(".action-bar-container"),o.insertAdjacentHTML("beforeend",n),this.element=m.getElem(`.action-bar-${e}`),this.options.onLoad?.(this),i.clear=m.getElem(".action-button.clear",this.element),i.selectAll=m.getElem(".action-button.selectAll",this.element),i.restore=m.getElem(".action-button.restore",this.element),i.move=m.getElem(".action-button.move",this.element),i.delete=m.getElem(".action-button.delete",this.element),this.options.hideButton?.forEach((t=>{const e=i[t];e&&(e.style.display="none")})),this.initializeButtonEventListeners(i),this.addCustomButtonsIfExists(),this}injectStyles(){let t={};this.options?.styles&&Object.keys(this.options.styles).length>0&&(t=m.deepMerge({},this.options.styles,t)),t&&m.injectStylesheet(t,this.id.toString())}initializeButtonEventListeners(t){Object.entries(t).forEach((([t,e])=>{e&&e.addEventListener("click",(()=>{if("none"===e.style.display)return;const n=`on${t.charAt(0).toUpperCase()+t.slice(1)}`;this.options[n]?.(e)}))}))}addCustomButtonsIfExists(){if(!this.options.customButton||0===this.options.customButton.length)return;const t=m.getElem(".action-buttons",this.element);this.options.customButton.forEach((({name:e,icon:n,callback:o})=>{const i=m.addCustomButton(e,n,o,t);this.options.hideButton?.includes(e)&&(i.style.display="none")}))}target(){return this.element}show(){return this.element&&this.element.parentNode&&(this.element.parentNode.style.display="block"),this}hide(){return this.element&&this.element.parentNode&&(this.element.parentNode.style.display="none"),this}updateCountNumber(t){const e=m.getElem(".selected-count",this.element),n=this.options.countMsg,o=this.options.countPlaceholder;return e&&n&&o&&(e.innerHTML=n.replace(o,t.toString())),this}enableButton(t){return m.modifyButtonState(t,!1,this.element),this}disableButton(t){return m.modifyButtonState(t,!0,this.element),this}doAction(t){switch(t){case b.CLEAR:this.options?.onClear?.();break;case b.SELECT_ALL:this.options?.onSelectAll?.();break;case b.RESTORE:this.options?.onRestore?.();break;case b.MOVE:this.options?.onMove?.();break;case b.DELETE:this.options?.onDelete?.()}return this}onClear(t){return this.options.onClear=t,this}onSelectAll(t){return this.options.onSelectAll=t,this}onRestore(t){return this.options.onRestore=t,this}onMove(t){return this.options.onMove=t,this}onDelete(t){return this.options.onDelete=t,this}static getButtonList(){return[b.CLEAR,b.SELECT_ALL,b.RESTORE,b.MOVE,b.DELETE]}destroy(){if(m.removeStylesheet(this.id.toString()),this.element&&this.element.parentElement){const t=m.getElem(".action-bar-container");t&&t.removeChild(this.element.parentElement)}const t=f.instances.findIndex((t=>t.id===this.id));return t>-1&&f.instances.splice(t,1),this}static get CLEAR(){return b.CLEAR}static get SELECT_ALL(){return b.SELECT_ALL}static get RESTORE(){return b.RESTORE}static get MOVE(){return b.MOVE}static get DELETE(){return b.DELETE}}return f}));
